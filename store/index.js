export const state = () => ({
  products: [
    {
    id: 1,
    title: 'De zeven zussen',
    auteur: 'Lucinda Riley',
    genre: 'Literatuur',
    description: "Na de plotselinge dood van hun vader komen Maia en haar zussen bij elkaar in hun ouderlijk huis, een prachtig landhuis aan het Meer van Genève. De zussen werden als baby door Pa Salt geadopteerd en krijgen na zijn dood allemaal een brief met een mysterieuze verwijzing naar hun afkomst. Maia?s verleden brengt haar naar Rio de Janeiro. Daar aangekomen probeert ze met de weinige aanwijzingen die ze heeft haar achtergrond te ontrafelen. Het voert haar tachtig jaar terug in de tijd, naar de bouw van het wereldberoemde Christus de Verlosser-beeld én de roerige jaren twintig in Parijs. Slaagt zij erin haar ware identiteit te achterhalen?",
    descriptionSecond: "De zeven zussen is het eerste deel uit een zevendelige serie over liefde, verlies en de zoektocht naar wie je werkelijk bent.",
    price: 12.99,
    ratings: 3,
    reviews: 5,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/e4d64343b1bc593f1c5348fe05efa4a6/9/7/9789401609371_fv_01.jpg'
  },
  {
    id: 2,
    title: 'Otmars zonen',
    auteur: 'Peter Buwalda',
    genre: 'Literatuur',
    description: "De jonge Shell-employé Ludwig Smit kruipt steeds dichter op de huid van zijn vader, Johan Tromp, die tweeëndertig jaar lang de grote onbekende in zijn leven is geweest. Meester en knecht raken tot elkaar veroordeeld op Sakhalin Island, waar Johan Tromps daverende carrière in de oliebusiness wankelt als journaliste Isabelle Orthel zich aandient. Ludwig en zij delen een kortstondig maar pijnlijk verleden in Twente ? en ook Tromp is op zijn hoede voor deze vrouw, die hij onder beroerd gesternte leerde kennen in de Nigerdelta. Intussen rijst de vraag of het verstandig is dat Ludwig de gedreven journaliste toegang verleent tot zijn wereldberoemde stiefbroer, de concertpianist Dolf Appelqvist. Appelqvists aan waanzin grenzende licht lijkt ? eindelijk ? dovende, ware het niet dat hij in het bezit is van een verloren gewaand derde deel van Beethovens pianosonate opus 111.",
    price: 39.99,
    ratings: 5,
    reviews: 10,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/e4d64343b1bc593f1c5348fe05efa4a6/9/7/9789403123004_fv_01.jpg'
  },
  {
    id: 3,
    title: 'Normale mensen',
    auteur: 'Sally Rooney',
    genre: 'Literatuur',
    discription: "Test",
    price: 20.99,
    ratings: 2,
    reviews: 3,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/e4d64343b1bc593f1c5348fe05efa4a6/9/7/9789026343445_fv_01.jpg'
  },
  {
    id: 4,
    title: 'Verloren grond',
    auteur: 'Murat Isik',
    genre: 'Thriller',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 1,
    reviews: 0,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/e4d64343b1bc593f1c5348fe05efa4a6/9/7/9789026347337_fv_01.jpg'
  },
  {
    id: 5,
    title: 'Ster van het Noorden',
    auteur: 'D. B. John',
    genre: 'Literatuur',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 4,
    reviews: 2,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789403118703_fv_01.jpg'
  },
  {
    id: 6,
    title: 'Misleiding',
    auteur: 'Maria Adolfsson',
    genre: 'Thriller',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 5,
    reviews: 1,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789024582402_fv_01.jpg'
  },
  {
    id: 7,
    title: 'Verlaten',
    auteur: 'Jane Harper',
    genre: 'Literatuur',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 5,
    reviews: 7,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789400510821_fv_01.jpg'
  },
  {
    id: 8,
    title: 'In het niets',
    auteur: 'Christian White',
    genre: 'Thriller',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 3,
    reviews: 0,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789400509610_fv_01.jpg'
  },
  {
    id: 9,
    title: 'Kom je spelen',
    auteur: 'M.J. Arlidge',
    genre: 'Literatuur',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 4,
    reviews: 2,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789022584163_fv_01.jpg'
  },
  {
    id: 10,
    title: 'Hoek',
    auteur: 'Donald Nolet',
    genre: 'Thriller',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 4,
    reviews: 2,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789403147406_fv_01.jpg'
  },
  {
    id: 11,
    title: 'De vuurstorm',
    auteur: 'Frank Goldammer',
    genre: 'Literatuur',
    description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit',
    price: 25,
    ratings: 4,
    reviews: 2,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789403147208_fv_01.jpg'
  },
  {
    id: 12,
    title: 'Het mes',
    auteur: 'Jo Nesbo',
    genre: 'Thriller',
    description: 'Harry Hole is terug naar waar het ooit begon. Hij is weer aan de drank, Rakel heeft hem verlaten, voorgoed dit keer, en hij woont opnieuw op zijn oude adres aan de Sofia Gatan. De politie in Oslo biedt hem een baan aan, maar hij mag alleen nog cold cases onderzoeken. Als na meer dan tien jaar gevangenis Svein Finne, de serieverkrachter en -moordenaar, weer op vrije voeten komt, is Hole ervan overtuigd dat hij opnieuw zal toeslaan.',
    descriptionSecond: 'Het is slechts de opmaat van een veel grotere ramp. Want wanneer hij op een dag in zijn appartement ontwaakt na een nacht vol alcohol, ontdekt Harry dat hij besmeurd is met bloed. Het is het begin van een nachtmerrie die erger wordt dan hij ooit kon dromen. De briljante, onnavolgbare politieagent Harry Hole is terug en in de greep van de moordenaar die hem al zijn hele loopbaan achtervolgt.',
    price: 25,
    ratings: 4,
    reviews: 2,
    isAddedToCart: false,
    isAddedBtn: false,
    isFavourite: false,
    quantity: 1,
    image: 'https://www.stumpel.nl/media/catalog/product/cache/ecd051e9670bd57df35c8f0b122d8aea/9/7/9789403146003_fv_01.jpg'
  },
  ],
  userInfo: {
    isLoggedIn: false,
    isSignedUp: false,
    hasSearched: false,
    name: '',
    productTitleSearched: ''
  },
  systemInfo: {
    openLoginModal: false,
    openSignupModal: false,
    openCheckoutModal: false
  }
})

export const getters = {
  productsAdded: state => {
    return state.products.filter(el => {
      return el.isAddedToCart;
    });
  },
  productsAddedToFavourite: state => {
    return state.products.filter(el => {
      return el.isFavourite;
    });
  },
  getProductById: state => id => {
    return state.products.find(product => product.id == id);
  },
  isUserLoggedIn: state => {
    return state.userInfo.isLoggedIn;
  },
  isUserSignedUp: state => {
    return state.userInfo.isSignedUp;
  },
  getUserName: state => {
    return state.userInfo.name;
  },
  isLoginModalOpen: state => {
    return state.systemInfo.openLoginModal;
  },
  isSignupModalOpen: state => {
    return state.systemInfo.openSignupModal;
  },
  isCheckoutModalOpen: state => {
    return state.systemInfo.openCheckoutModal;
  },
  quantity: state => {
    return state.products.quantity;
  }
}

export const mutations = {
  addToCart: (state, id) => {
    state.products.forEach(el => {
      if (id === el.id) {
        el.isAddedToCart = true;
      }
    });
  },
  setAddedBtn: (state, data) => {
    state.products.forEach(el => {
      if (data.id === el.id) {
        el.isAddedBtn = data.status;
      }
    });
  },
  removeFromCart: (state, id) => {
    state.products.forEach(el => {
      if (id === el.id) {
        el.isAddedToCart = false;
      }
    });
  },
  removeProductsFromFavourite: state => {
    state.products.filter(el => {
      el.isFavourite = false;
    });
  },
  isUserLoggedIn: (state, isUserLoggedIn) => {
    state.userInfo.isLoggedIn = isUserLoggedIn;
  },
  isUserSignedUp: (state, isSignedUp) => {
    state.userInfo.isSignedUp = isSignedUp;
  },
  setHasUserSearched: (state, hasSearched) => {
    state.userInfo.hasSearched = hasSearched;
  },
  setUserName: (state, name) => {
    state.userInfo.name = name;
  },
  setProductTitleSearched: (state, titleSearched) => {
    state.userInfo.productTitleSearched = titleSearched;
  },
  showLoginModal: (state, show) => {
    state.systemInfo.openLoginModal = show;
  },
  showSignupModal: (state, show) => {
    state.systemInfo.openSignupModal = show;
  },
  showCheckoutModal: (state, show) => {
    state.systemInfo.openCheckoutModal = show;
  },
  addToFavourite: (state, id) => {
    state.products.forEach(el => {
      if (id === el.id) {
        el.isFavourite = true;
      }
    });
  },
  removeFromFavourite: (state, id) => {
    state.products.forEach(el => {
      if (id === el.id) {
        el.isFavourite = false;
      }
    });
  },
  quantity: (state, data) => {
    state.products.forEach(el => {
      if (data.id === el.id) {
        el.quantity = data.quantity;
      }
    });
  },
  SET_USER(state, authUser) {
    state.authUser = authUser
  }
}
/*
export const actions = {
  async nuxtServerInit({ commit }) {
    const res = await this.$axios.get("/api/current_user")
    commit("SET_USER", res.data)
  },

  async logout({ commit }) {
    const { data } = await this.$axios.get("/api/logout")
    if (data.ok) commit("SET_USER", null)
  },

  async handleToken({ commit }, token) {
    const res = await this.$axios.post("/api/stripe", token)
    commit("SET_USER", res.data)
  }
} */
